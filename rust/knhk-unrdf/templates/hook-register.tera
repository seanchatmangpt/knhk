import { createDarkMatterCore, defineHook, registerHook } from './src/knowledge-engine/index.mjs';

async function main() {
    const system = await createDarkMatterCore({
        enableKnowledgeHookManager: true,
        enableLockchainWriter: false
    });

    const hookDef = {{ hook_json | safe }};
    const hook = defineHook(hookDef);
    await registerHook(hook);

    console.log('SUCCESS');
}

main().catch(err => {
    console.error('ERROR:', err.message);
    process.exit(1);
});

