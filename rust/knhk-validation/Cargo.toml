[package]
name = "knhk-validation"
version = "0.1.0"
edition = "2021"

[lib]
path = "src/lib.rs"

[[bin]]
name = "knhk-validation"
path = "src/main.rs"

[dependencies]
knhk-hot = { path = "../knhk-hot", version = "1.0.0" }
knhk-etl = { path = "../knhk-etl", version = "0.1.0", features = ["std"] }
knhk-connectors = { path = "../knhk-connectors", version = "0.1.0", features = ["std"] }
knhk-lockchain = { path = "../knhk-lockchain", version = "0.1.0", features = ["std"] }
knhk-otel = { path = "../knhk-otel", version = "0.1.0", features = ["std"] }
serde = { version = "1.0", features = ["derive"], optional = true }
serde_json = { version = "1.0", optional = true }
thiserror = "2.0"
miette = { version = "7.6", features = ["fancy", "serde"], optional = true }
regorus = { version = "0.4", optional = true, default-features = false, features = ["std", "arc"] }

[features]
default = ["std", "diagnostics", "advisor"]
std = []
diagnostics = ["miette"]
advisor = ["policy-engine"]
policy-engine = ["regorus"]
schema-resolution = []
streaming = []

[dev-dependencies]
proptest = "1.0"

